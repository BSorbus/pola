<div class="row">
  <div class="tab-content col-sm-10 well">
    <div class="tab-pane active" id="tab_a">
      <div id='calendar'></div>
    </div>

    <div class="tab-pane" id="tab_b">
      <div class="col-sm-12">
        <div class="row">
          <h3 class="center">
            <span class="glyphicon glyphicon-calendar glyp-index-title" aria-hidden="true"></span>
            <span class="index-title"><%= t "pages.event.index.title" %></span>
          </h3>
        </div> <!--/row -->
      </div> <!--/col-sm-12 -->


      <div class="col-sm-12">
        <table id="events-table" class="hover cell-border" cellspacing="0" width="100%", data-source="<%= datatables_index_events_path(format: :json) %>">
          <thead>
            <tr>
              <th>id</th>
              <th class='col-sm-2'><%= Event.human_attribute_name(:title) %></th>
              <th class='col-sm-1'><%= Event.human_attribute_name(:event_type_id) %></th>
              <th class='col-sm-1'><%= Event.human_attribute_name(:errand_id) %></th>
              <th class='col-sm-1'><%= Event.human_attribute_name(:project_id) %></th>
              <th class='col-sm-1'><%= Event.human_attribute_name(:end_date) %></th>
              <th class='col-sm-1'><%= Event.human_attribute_name(:event_status_id) %></th>
              <th class='col-sm-1'><%= Event.human_attribute_name(:event_effect_id) %></th>
              <th class='col-sm-1'><%= Event.human_attribute_name(:attachments_count) %></th>
              <th class='col-sm-2'><%= Event.human_attribute_name(:flat_assigned_users) %></th>
            </tr>
          </thead>
          <tfoot>
            <tr>
              <th></th>
              <th>
                <%= text_field_tag :col1filter, params[:col1filter], id: 'col1filter', 'data-column' => "1", 
                      class: 'column_filter form-control input-sm' %>
              </th>
              <th>
                <%= select( nil, "col2filter",
                      EventType.all.order(:name).collect {|v| [ "#{v[:name]}", "#{v[:name]}" ] },
                      { include_blank: true }, 
                      { autofocus: false, class: 'column_filter form-control input-sm', 'data-column' => "2" }) %>                
              </th>
              <th>
                <%= text_field_tag :col3filter, params[:col3filter], id: 'col3filter', 'data-column' => "3", 
                      class: 'column_filter form-control input-sm' %>                
              </th>
              <th>
                <%= text_field_tag :col4filter, params[:col4filter], id: 'col4filter', 'data-column' => "4", 
                      class: 'column_filter form-control input-sm' %>
              </th>
              <th></th>
              <th>
                <%= select( nil, "col6filter",
                      EventStatus.all.order(:name).collect {|v| [ "#{v[:name]}", "#{v[:name]}" ] },
                      { include_blank: true }, 
                      { autofocus: false, class: 'column_filter form-control input-sm', 'data-column' => "6" }) %>
                
              </th>
              <th>
                <%= select( nil, "col7filter",
                      EventEffect.all.order(:name).collect {|v| [ "#{v[:name]}", "#{v[:name]}" ] },
                      { include_blank: true }, 
                      { autofocus: false, class: 'column_filter form-control input-sm', 'data-column' => "7" }) %>
                
              </th>
              <th></th>
              <th>
                <%= text_field_tag :col9filter, params[:col9filter], id: 'col9filter', 'data-column' => "9", 
                      class: 'column_filter form-control input-sm' %>
                
              </th>
            </tr>
          </tfoot>
          <tbody>
            <!-- data from ajax -->
          </tbody>
        </table>
      </div>
    </div>
  </div><!-- tab content -->

  <div class="col-sm-2">
    <ul class="nav nav-pills nav-stacked">
      <li class="active"><a href="#tab_a" data-toggle="pill">Kalendarz</a></li>
      <li><a href="#tab_b" data-toggle="pill">Tabela</a></li>

      <br>
      <br>
      <br>
      <% if policy(:event).new? %>
        <%= link_to new_event_path, class: "btn btn-primary" do %>
          <span class="glyphicon glyphicon-plus"></span>
          <%= t("helpers.links.new") %>
        <% end %>
      <% end %>

    </ul>
  </div>
</div>
